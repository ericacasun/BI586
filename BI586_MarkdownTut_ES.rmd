---
title: "BI586_MarkdownTut"
author: "Erica Sun"
date: "February 11, 2021"
output: "html_document"
---

## R Markdown

This is an R Markdown document, a plain text file that has the extension .Rmd. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see the following links: <http://rmarkdown.rstudio.com>
<https://bookdown.org/yihui/rmarkdown>
<https://rmarkdown.rstudio.com/lesson-15.html>
<https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf>
<https://holtzy.github.io/Pimp-my-rmd/>
<https://github.com/rstudio/rticles/tree/master/inst/rmarkdown/templates>
To create a new Rmd file from Rstudo go to File -> New File -> R Markdown

#Question 1
**Create a new Rmd file and name it BI586_MarkdownTut plus your initials (e.g. BI586_MarkdownTut_JF)**
**You will answer all the tutorial questions & take notes in your newly created Rmd file**

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document.Go ahead and click **Knit** now and then on the new screen that pops up click **open in browser** you can now follow the tutorial using the html for better readability and refer back to the .Rmd
file in Rstudio for format checks. 

There are three basic components of an R Markdown document: the metadata, text, and code. The metadata is written between the pair of three dashes ---. 

The syntax for the metadata is YAML (https://en.wikipedia.org/wiki/YAML), so sometimes it is also called the YAML metadata or the YAML frontmatter. See <https://bookdown.org/yihui/bookdown/r-markdown.html> for a few simple examples that show the YAML syntax. 
Right now our metadata is saying we want an **html_document** for our output. There are lots of different output formats, see <https://bookdown.org/yihui/bookdown/r-markdown.html> again for all the different formats. Most of these require installation of large packages which will require a computer restart, feel free to check them out on your own time and ask us for help if you run into trouble with the installations. 
In the meantime a word document shouldnt require additional installation

#Question 2 
**Change the output to a word document**

The text (the component you are reading right now) syntax is Markdown check out this link for a review on all the different formats
<https://bookdown.org/yihui/rmarkdown/markdown-syntax.html>

#Question 3
**Create a hyperlink HERE that will send the user to the above bookdown.org site**


[bookdown_hyperlink](https://bookdown.org/yihui/rmarkdown/markdown-syntax.html)

A code chunk starts with three backticks like ```{r} where r indicates the language name and ends with three backticks ```

Below is a code chunk:
```{r}
2+2+2
answer=2+2+2
```
**Note** You dont need to click **Knit** just to see the output, instead you can run the above code chunk the following ways so you can immediately see the output in rmarkdown:
  
  - when in the code chunk using *ctrl+enter* or *command+enter* on a mac
  - clicking run in the top right corner of Rstudio
  - Clicking the green play button on the top right corner of the code chunk

#Question 4 
**Make sure you are succesfully able to do all three above methods**

You can also do inline code using a pair of backticks (e.g. did you know 2+2+2+=`r answer`?)

You can insert an R code chunk either using the RStudio toolbar (the Insert button) or the keyboard shortcut `Ctrl + Alt + I` (`Cmd + Option + I` on macOS).


There are a lot of things you can do in a code chunk: you can produce text output, tables, or graphics. You have fine control over all these output via chunk options, which can be provided inside the curly braces (between ```{r and }). For example, you can choose hide text output via the chunk option results = 'hide', or set the figure height to 4 inches via fig.height = 4. Chunk options are separated by commas, e.g.,

```{r, chunk-label, result='hide'}
2+2+2
answer=2+2+2
```

There are a large number of chunk options in knitr documented at https://yihui.name/knitr/options

#Question 5
**Create a code chunk that will not show the code in your knitted html (this is nice if someone just wants the output
and doesn't care about the code) Use the above link to figure out how to do this**
```{r,  echo=FALSE}
# this chunk of R code should not show up in the knitted file
six = 2 + 4
```

#Question 6
**Create a code chunk that will not actually run the code when you *knit* your markdown file, this is nice if for example the code isn't working but you want to show someone what you did, or maybe the code requires a input file that only you have access to and you are sharing your markdown file and don't want to give them an error**
```{r, eval=FALSE}
# this chunk of R code should not run when knitting
two = 2
```



## Including Plots
You can embed plots into your rmarkdown pretty easily. You can also add a figure caption using fig.cap in the chunk options

```{r pressure, fig.cap= "The pressure plot"}
plot(pressure)
```
#Question 7 
**Add any png to your markdown html**

If you want to include a graphic from your computer you can use the knitr::include_graphics() function 

```{r, fig.cap="Piemap"}
knitr::include_graphics('/Users/ericasun/Documents/GitHub/BI586/piemap.png')
```


#Question 8 Converting your R lab to an rmarkdown file
**Take the code from your R lab last week (starting at Question 9 until the plotting section) and convert it to an rmarkdown format. This should include both my questions/notes PLUS your answers. Format it in a way so when you knit it into an html it is very readible imagine you were making an R walkthrough for someone else. (Use headers, get rid of #s, break code into chunks, limit unnecessary code output, supress warnings etc). Check out the links at the beginning of this tutorial for other ways to prettify your rmarkdown!**

##PROBLEM 9 Write code that will print the column name for column 3 and the rowname for row 4 
```{r}
colnames(Data)[3]
rownames(Data)[4]
```


Sometimes you will want to subset a dataframe to include only specific columns or only certain values
In our wasting data file we have a column called Transect.
We can view the values of this column by simpling clicking on the variable "Data" in our global environment OR
we can have R print out all the values of this column
```{r}
Data$Transect
```
If you don't want R to barf up all the values but you are interested in how many unique values there are for this column
you can look at this column's levels
```{r}
Data$Transect = as.factor(Data$Transect)
levels(Data$Transect)
```


#PROBLEM 10 How many levels does the column "Transect" have?
4 levels
Lets say we want to create a dataframe that only has data for transect A, we can do this a few different ways
one way is to use the filter function from the package dplyr
```{r}
TransectA = filter(Data, Transect == "A")
head(TransectA)
```

#PROBLEM 11: How many rows are in your new dataframe TransectA?
```{r}
nrow(TransectA)
```
#PROBLEM 12 Create a dataframe that consistes of only data from Transect A AND Transect B
How many rows are in this new dataframe? (Show your code)
```{r}
TransectA = filter(Data, Transect == "A")
TransectB = filter(Data, Transect == "B")
df <- data_frame(TransectA, TransectB)
```


Maybe we don't care about most of these columns and want to just work with the first three
```{r}
InfoTransectA=TransectA[,1:3]
head(InfoTransectA)
```

#How do we save stuff that we can create in R?
Even though you can save your script with a simple ctrl+S, this is just saving the instructions
sometimes we want to save an output so we don't have to run through our whole code again to look at it. 
One way of doing this is saving EVERYTHING in your global environment 
```{r}
save.image(file="filename.RData")
```

#You have now saved your global environment, go ahead and click the broom icon above your global environment pane 
#to clear the global environment
#now to re-load your saved global environment
load(file="filename.RData")
#You can also save files as .csv or a space separated file
write.csv(InfoTransectA, file="InfoTranectA.csv") #csv
write.table(InfoTransectA, file="InfoTransectA.txt",sep=" ")# space separated file
write.table(InfoTransectA, file="InfoTransectA.tab", sep="\t")#tab separated file

######You can feel free to end the assignment here as we will spend a lot of time
##on data visualization in this course. 

##########BONUS Plotting!!!!!!##################
#Go through this plotting tutorial, entering the code into your own R environment
#http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html


#BONUS PROBLEM make a PDF of a barplot titled "Awesome_barplot.pdf" where all factors are of some shade of red. 
#No x axis label 
library(ggplot2)
ggplot(Data, aes(x = Site)) + geom_bar(color = "red", fill = "pink") + theme_classic() + ggtitle("Awesome_barplot")

##Make sure you send both your .Rmd file AND the html to me (jfifer@bu.edu)##